{% extends "page.html" %}


{% block content %}

{% if correctstr %}
<div class="Paragraph">
  (Did you mean: <span class="ExampleTerm">{{ correctstr }}</span> ?
  <form class="Inline" action="{{ approot }}" method="POST">
    <input type="hidden" name="searchstr" value="{{ correctstr }}">
    <input class="FormButton" name="trycorrect" type="submit" value="Try it">)
  </form>
</div>
{% endif %}

{% if not results %}
<p>No files found.<p>
{% else %}

{% if prevavail or nextavail %}
  <p>Showing results {{ showmin }}-{{ showmax }} of {{ resultcount }}:</p>
{% else %}
  <p>Found {{ resultcount }} results:</p>
{% endif %}

<dl class="Results">
  {% for res in results %}
    <dt>
      {% if res.isdir %}<span class="RightSpan">(directory)</span>{% endif %}
      {% if res.datestr %}<span class="RightSpan">({{ res.datestr }})</span>{% endif %}
      <a href="https://ifarchive.org/{{ res.url|urlencode }}{% if res.urlfrag %}#{{ res.urlfrag }}{% endif %}">{% if res.pathhead %}{{ res.pathhead }}/{% endif %}<b>{{ res.pathtail }}</b>{% if res.isdir %}/{% endif %}</a>
    </dt>
    {% if res.shortdesc %}<dd class="ShortDesc">{{ res.shortdesc }}{% endif %}
  {% endfor %}
</dl>

{% endif %}

{% if prevavail or nextavail %}
<div class="PageControlBox">
  <form class="Inline" action="{{ approot }}" method="POST">
    <input type="hidden" name="searchstr" value="{{ searchstr }}">
    <input type="hidden" name="pagenum" value="{{ pagenum-1 }}">
    <input class="FormButton" name="prevpage" type="submit" {% if not prevavail %}disabled{% endif %} value="&#x2190; Prev">
  </form>
  <span>Page {{ pagenum }} of {{ pagecount }}</span>
  <form class="Inline" action="{{ approot }}" method="POST">
    <input type="hidden" name="searchstr" value="{{ searchstr }}">
    <input type="hidden" name="pagenum" value="{{ pagenum+1 }}">
    <input class="FormButton" name="nextpage" type="submit"{% if not nextavail %}disabled{% endif %} value="Next &#x2192;">
  </form>
</div>
{% endif %}

{% endblock %}

